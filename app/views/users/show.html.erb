<% content_for :page_title, "My Profile" %>

<!-- User infomation and events -->
<div class="row container main-content">
  </br>
  <div class="row">
    <div class="col l4 m5 s12">
      <div class="profile-row center-profile">
        <%= image_tag @user.image, :class => "circle", :id => "ui-segment" %>
        <h4 class="br-5 s ctr"><%= @user.full_name %></h4>
      </div>
      <% if @own_profile %>
        <%= link_to "Edit Profile", edit_user_path(@current_user.id), :id => "edit_user_button", :class => "btn user-action-button green accent-4 s br-15", :method => :get %>
        <%= link_to "Delete", user_path(@current_user.id), :id => "cancel_user_button", :class => "btn user-action-button red s br-15", :method => :delete %>
      <% end %>
      <div class="speech-bubble light-blue darken-3">
        <div class="speech-bubble-content white-text">
          <div class="status-icon"><i class="fa fa-commenting-o small" aria-hidden="true">&nbsp;&nbsp;</i></div>
          <div class="status-text"><%= @user.status %></div>
        </div>
        <div class="speech-carrot blue"></div>
      </div>
      <ul class="collection user-info-collection">
        <% if @user.email && @user.email != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-envelope" aria-hidden="true"></i> &nbsp;Email</span>
              &nbsp;&nbsp;<%= @user.email %>
            </div>
          </li>
        <% end %>
        <% if @user.gender && @user.gender != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-mars-stroke" aria-hidden="true"></i> &nbsp;Gender</span>
              &nbsp;&nbsp;<%= @user.gender.capitalize %>
            </div>
          </li>
        <% end %>
        <% if @user.address && @user.address != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-map-marker" aria-hidden="true"></i> &nbsp;Address</span>
              &nbsp;&nbsp;<%= @user.address %>
            </div>
          </li>
        <% end %>
        <% if @user.country && @user.country != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-map-marker" aria-hidden="true"></i> &nbsp;Country</span>
              &nbsp;&nbsp;<%= @user.country %>
            </div>
          </li>
        <% end %>
        <% if @user.city && @user.city != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-map-marker" aria-hidden="true"></i> &nbsp;City</span>
              &nbsp;&nbsp;<%= @user.city %>
            </div>
          </li>
        <% end %>
        <% if @user.zipcode && @user.zipcode != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-map-marker" aria-hidden="true"></i> &nbsp;Zipcode</span>
              &nbsp;&nbsp;<%= @user.zipcode %>
            </div>
          </li>
        <% end %>
        <% if @user.phone_number && @user.phone_number != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-phone" aria-hidden="true"></i> &nbsp;Phone</span>
              &nbsp;&nbsp;<%= @user.phone_number %>
            </div>
          </li>
        <% end %>
        <% if @user.description && @user.description != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> &nbsp;Description</span>
              &nbsp;&nbsp;<%= @user.description %>
            </div>
          </li>
        <% end %>
        <% if @user.availability && @user.availability != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-calendar" aria-hidden="true"></i> &nbsp;Availability</span>
              &nbsp;&nbsp;<%= @user.availability %>
            </div>
          </li>
        <% end %>
      </ul>
    </div>
    <div class="col l8 m7 s12">
      <div class="row ctr s">
        <h4 id="dogs-title">Dogs</h4>
        <% if @own_profile %>
          <%= link_to "Add Dog", new_dog_path(), :id => "add_dog_button", :class => "btn green accent-4 s br-15 hide-on-small-only", :method => :get %>
        <% end %>
      </div>
      <div class="row">
        <% if @user.dogs.count == 0 then %>
          <div class="row center-align valign-wrapper no-dogs-message-container">
            <div class="col l12 m12 s12 valign no-dogs-message">
              <div> No dogs yet! </div>
            </div>
          </div>
        <% else %>
          <div class="row container main-content">
          <% @user.dogs.each do |dog| %>
            <%= render "dogs/dog_card", :dog => dog, :current_user => @current_user, :card_size => "col s12 m10 l6" %>
          <% end %>
          </div>
        <% end %>
      </div>
      <div class="row ctr s">
        <h4 id="events-title">Events</h4>
          <% if @own_profile %>
            <%= link_to "Add Event", new_event_path(), :id => "add_event_button", :class => "btn green accent-4 s br-15 hide-on-small-only", :method => :get %>
          <% end %>
        </div>
        <% if @user.events.count == 0 then %>
          <div class="row center-align valign-wrapper no-dogs-message-container">
            <div class="col l12 m12 s12 valign no-events-message">
              <div>No events yet!</div>
            </div>
          </div>
        <% else %>
          <% @user.events.each do |event| %>
            <div class="row valign-wrapper">
              <div class="col l12 m12 s12 valign">
                <%= render "events/event_card", :event => event, :current_user => @current_user, :card_size => "col s12 m12 l12" %>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
<% content_for :page_title, "About " + @dog.name %>

<script src="<%= javascript_path('galleria-1.4.2.js') %>"></script>
<script type="text/javascript" src="dog_profile.js"></script>

<!-- User infomation and events -->
<div class="row container main-content">

  <div class="row" style="margin-top: 20px">
    <div class="col l3 m4 s12" style="text-align: center;">
      <div id = "profile_pics">
        <div> <%= image_tag @dog.photo.url(:large), :class => "circle", id: "dog_profile_pic" %>  </div>
        <%= image_tag @parent.image, :class => "circle z-depth-1", id: "dog_profile_parent_pic" %>
        <div class="star-container">
          <% if not current_user.nil? %>
            <%- unless current_user.starred_dogs.exists?(id: @dog.id) -%>
                <%= link_to starred_dogs_path(dog_id: @dog), method: :post, id: "star_#{@dog.id}" do%>
                <i class="fa fa-star-o medium" aria-hidden="true" id="dog_profile_star"></i>
              <%end%>
              <% else %>
                <%= link_to starred_dogs_path(dog_id: @dog), method: :delete, id: "star_#{@dog.id}"  do%>
                <i class="fa fa-star small" aria-hidden="true" id="dog_profile_star"></i>
              <%end%>
            <% end %>
          <%end%>
        </div>
      </div>
      <% if not @current_user.nil? and @current_user.id == @dog.user_id %>
        <%= link_to "Edit", edit_dog_path(@dog.id), :id => "cancel_user_button", :class => "btn user-action-button green accent-4 s br-15", :method => :get %>
        <%= link_to "Delete", dog_path(@dog.id), :id => "cancel_user_button", :class => "btn user-action-button red s br-15", :method => :delete %>
      <% end %>
    </div>
    <div class="col l9 m8 s12 s br-35">
      <div class="speech-bubble light-blue darken-3">
        <div class="speech-bubble-content white-text">
          <div class="status-icon"><i class="fa fa-commenting-o small" aria-hidden="true">&nbsp;&nbsp;</i></div>
          <div class="status-text"><%= @dog.motto %></div>
        </div>
        <div class="speech-carrot blue"></div>
      </div>
      <ul class="collection dog-info-collection">
        <li class="collection-item">
          <div class="collection-item-content">
            <span class="grey-text"><i class="fa fa-user" aria-hidden="true"></i> &nbsp;Parent</span>
            &nbsp;&nbsp;<%= link_to @parent.first_name, user_path(@parent.id) %>
          </div>
        </li>
        <% if @dog.age && @dog.age != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-birthday-cake" aria-hidden="true"></i> &nbsp;Age</span>
              &nbsp;&nbsp;<%= @dog.age %>
            </div>
          </li>
        <% end %>
        <% if @dog.size && @dog.size.value != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-balance-scale" aria-hidden="true"></i> &nbsp;Size</span>
              &nbsp;&nbsp;<%= @dog.size.value.capitalize %>
            </div>
          </li>
        <% end %>
        <% if @dog.gender && @dog.gender != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-mars-stroke" aria-hidden="true"></i> &nbsp;Gender</span>
              &nbsp;&nbsp;<%= @dog.gender.capitalize %>
            </div>
          </li>
        <% end %>
        <% if @dog.readable_mixes %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-paw" aria-hidden="true"></i> &nbsp; <%= @dog.readable_mixes.count > 1 ? "Mixes" : "Mix" %></span>
              &nbsp;&nbsp;<%= @dog.readable_mixes.join(", ") %>
            </div>
          </li>
        <% end %>
        <% if @dog.readable_personalities && @dog.readable_personalities != [] %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-heart" aria-hidden="true"></i> &nbsp; <%= @dog.readable_personalities.count > 1 ? "Personalities" : "Personality" %></span>
              &nbsp;&nbsp;<%= @dog.readable_personalities.map(&:capitalize).join(", ") %>
            </div>
          </li>
        <% end %>
        <% if @dog.energy_level && (@dog.energy_level.value && @dog.energy_level.value != "") %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-flash" aria-hidden="true"></i> &nbsp; Energy Level</span>
              &nbsp;&nbsp;<%= @dog.energy_level.value.capitalize %>
            </div>
          </li>
        <% end %>
        <% if @dog.readable_likes && @dog.readable_likes != [] %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-thumbs-up" aria-hidden="true"></i> &nbsp; Likes</span>
              &nbsp;&nbsp;<%= @dog.readable_likes.map(&:capitalize).join(", ") %>
            </div>
          </li>
        <% end %>
        <% if @dog.fixed != nil %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-plus-square" aria-hidden="true"></i> &nbsp; Spayed/Neutered?</span>
              &nbsp;&nbsp;<%= @dog.fixed ? "Yes" : "No" %>
            </div>
          </li>
        <% end %>
        <% if @dog.chipped != nil %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-feed" aria-hidden="true"></i> &nbsp; Chipped?</span>
              &nbsp;&nbsp;<%= @dog.chipped ? "Yes" : "No" %>
            </div>
          </li>
        <% end %>
        <% if @dog.shots_to_date != nil %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-medkit" aria-hidden="true"></i> &nbsp; Shots up to Date?</span>
              &nbsp;&nbsp;<%= @dog.shots_to_date ? "Yes" : "No" %>
            </div>
          </li>
        <% end %>
        <% if @dog.health != nil && @dog.health != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-user-md" aria-hidden="true"></i> &nbsp; Health Notes</span>
              &nbsp;&nbsp;<%= @dog.health %>
            </div>
          </li>
        <% end %>
        <% if @dog.description != nil && @dog.description != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> &nbsp; Description</span>
              &nbsp;&nbsp;<%= @dog.description %>
            </div>
          </li>
        <% end %>
        <% if @dog.availability != nil && @dog.availability != "" %>
          <li class="collection-item">
            <div class="collection-item-content">
              <span class="grey-text"><i class="fa fa-calendar" aria-hidden="true"></i> &nbsp; Availability</span>
              &nbsp;&nbsp;<%= @dog.availability %>
            </div>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>


<!--
<div class="large-12 columns">
  
    <div class="center-align" style="overflow:hidden">

  <div class="container row main-content">
    <div id="profile-page-header" class="card col s12">
      <div id = "profile_pics">
        <div> <%= image_tag @dog.photo.url(:large), :class => "circle", id: "dog_profile_pic" %>  </div>
        <%= image_tag @parent.image, :class => "circle", id: "dog_profile_parent_pic" %>
      </div>
      <div class="card-content">
        <span id = "profile_title_text">
          <div id = "dog_profile_name">
            <%= @dog.name %>
            <% if not current_user.nil? %>
            <%- unless current_user.starred_dogs.exists?(id: @dog.id) -%>
                <%= link_to starred_dogs_path(dog_id: @dog), method: :post, id: "star_#{@dog.id}" do%>
                <i class="fa fa-star-o" aria-hidden="true" id="dog_profile_star"></i>
              <%end%>
              <% else %>
                <%= link_to starred_dogs_path(dog_id: @dog), method: :delete, id: "star_#{@dog.id}"  do%>
                <i class="fa fa-star" aria-hidden="true" id="dog_profile_star"></i>
              <%end%>
            <% end %>
          <%end%>
          </div>
        </span>
      </div>
      <% if not @current_user.nil? and @current_user.id == @dog.user_id %>
        <div class ="float right">
          <%= link_to dog_path(@dog.id), title: "Delete", method: :delete, id: "delete_dog_button" do%>
            <i class="fa fa-trash" aria-hidden="true"></i>
          <% end %>
        </div>
        <div class = "float right">
            <%= link_to edit_dog_path(@dog.id), id:"edit_pencil" do %>
              <i class="fa fa-pencil" aria-hidden="true" id="edit_pencil"></i>
            <% end %>
        </div>
      <% end %> 
      
    </div>
    
    <div id="profile-page-content">
      <div id="profile-page-sidebar" class="col s12 m4 row">
        <div class="card light-blue">
          <div class="card-content white-text">
            <span class="card-title">About Me</span>
            <p><%= @dog.description %></p>
          </div>                  
         
 
        </div>
        
        <ul id="profile-page-about-details" class="collection z-depth-1">
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-user" aria-hidden="true"></i> Parent</div>
              <div class="col s7 grey-text text-darken-4 right-align"><%= link_to @parent.first_name, user_path(@parent.id) %></div>
            </div>
          </li>
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-star" aria-hidden="true"></i> Favorited</div>
              <% if @dog.stars.count == 1 %>
                <div class="col s7 grey-text text-darken-4 right-align"><%= @dog.stars.count %> time</div>
              <% else %>
                <div class="col s7 grey-text text-darken-4 right-align"><%= @dog.stars.count %> times</div>
              <% end %> 
            </div>
          </li>
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-mars-stroke" aria-hidden="true"></i> Gender</div>
              <div class="col s7 grey-text text-darken-4 right-align"><%= @dog.gender %></div>
            </div>
          </li>
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-arrows" aria-hidden="true"></i> Size</div>
              <div class="col s7 grey-text text-darken-4 right-align"><%= @dog.size %></div>
            </div>
          </li>
          <% if @dog.age %>
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-birthday-cake" aria-hidden="true"></i> Age</div>
              <div class="col s7 grey-text text-darken-4 right-align"><%= @dog.age %> years old</div>
            </div>
          </li>
          <% end %> 
          <% if @dog.energy_level %>
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-bolt" aria-hidden="true"></i> Energy</div>
              <div class="col s7 grey-text text-darken-4 right-align"><%= @dog.energy_level %></div>
            </div>
          </li>
          <% end %>
          
          
          <% if @dog.likes %>
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-thumbs-up" aria-hidden="true"></i> Likes</div>
              <div class="col s7 grey-text text-darken-4 right-align">
                <% @dog.readable_likes.each do |like| %>
                  <div><%= like =%> </div>
                <% end %>
              </div>

            </div>
          </li>
          <% end %>
          
          
          <li class="collection-item">
            <div class="row">
              <div class="col s5 grey-text darken-1 left-align"><i class="fa fa-adjust" aria-hidden="true"></i> Mix</div>
              <div class="col s7 grey-text text-darken-4 right-align">
                <% @dog.readable_mixes.each do |like| %>
                  <div><%= like =%> </div>
                <% end %>
              </div>
            </div>
          </li>

          <li class="collection-item">
            <div class="row">
              <div class="col s7 grey-text darken-1 left-align"><i class="fa fa-paw"></i> Personality</div>
              </div>
              <div class="col s10 grey-text text-darken-4 center-align"></br><%= @dog.readable_personalities.join(', ') %>
            </div>
          </li>
        </ul>
      </div>
    
      <div class="col s12 m8">
        <% if not @dog.motto.nil? and not @dog.motto == "" %>
          <div class="card teal">
            <div class="card-content white-text">
              <span class="card-title">
                <i class="fa fa-commenting-o" aria-hidden="true"></i>
                <%= @dog.motto %>
              </span>
            </div>
          </div>
        <% end %>
        
        <div class="slider">
          <ul class="slides">
          <% unless @pictures.empty? %>
          <% @pictures.each do |pic| %>
            <li>
               <%= image_tag pic.image.url %>
            </li>
          <% end %>
          <% end %>
          </ul>
        </div>
        
        <% if not @dog.video.nil? and not @dog.video == "" %>
          <div class="ui video" data-source="youtube" data-id="<%= @dog.youtube_id %>" ></div>
        <% end %>
        
               
      </div> 
    </div>
  </div>
</div>
-->


<script>
$(document).ready(function(){
  $('.ui.video').video();

  $('.ui.sticky')
  .sticky({
    offset: 50,
    context: '#dog_info_stats'
  });
});
</script>

